{"ast":null,"code":"var _jsxFileName = \"/Users/suneilengland/Desktop/DEVELOPMENT/maj-arcade-admin/src/pages/Login.js\",\n    _s = $RefreshSig$();\n\nimport { Link as RouterLink, useNavigate } from 'react-router-dom';\nimport { Helmet } from 'react-helmet';\nimport * as Yup from 'yup';\nimport axios from 'axios';\nimport { Formik } from 'formik';\nimport { Box, Button, Container, Grid, Link, TextField, Typography } from '@material-ui/core';\nimport { useEffect } from 'react';\nimport FacebookIcon from 'src/icons/Facebook';\nimport GoogleIcon from 'src/icons/Google';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Login = () => {\n  _s();\n\n  const navigate = useNavigate();\n  useEffect(() => {\n    if (!localStorage.getItem('authToken')) {\n      navigate('/login', {\n        replace: true\n      }); // console.log('hey')\n    }\n  }, [navigate]);\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Helmet, {\n      children: /*#__PURE__*/_jsxDEV(\"title\", {\n        children: \"Login | Material Kit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Box, {\n      sx: {\n        backgroundColor: 'background.default',\n        display: 'flex',\n        flexDirection: 'column',\n        height: '100%',\n        justifyContent: 'center'\n      },\n      children: /*#__PURE__*/_jsxDEV(Container, {\n        maxWidth: \"sm\",\n        children: /*#__PURE__*/_jsxDEV(Formik, {\n          initialValues: {\n            email: '',\n            password: ''\n          },\n          validationSchema: Yup.object().shape({\n            email: Yup.string().email('Must be a valid email').max(255).required('Email is required'),\n            password: Yup.string().max(255).required('Password is required')\n          }),\n          onSubmit: async initialValues => {\n            // const createMongoUser = async () => {\n            const loggedUser = {\n              email: initialValues.email,\n              password: initialValues.password\n            };\n            await axios // .post(`https://majestic-express-server.herokuapp.com/api/auth/register`, loggedUser)\n            .post(`https://majestic-express-server.herokuapp.com/api/auth/adminlogin`, loggedUser).then(res => {\n              const result = res.data;\n              localStorage.setItem(\"authToken\", result.token);\n\n              if (localStorage.getItem('authToken')) {\n                navigate('/app/dashboard', {\n                  replace: true\n                }); // console.log('hey')\n              }\n\n              console.log(result);\n            }).catch(err => console.log(err.response.data.error)); // };\n            // navigate('/app/dashboard', { replace: true });\n          },\n          children: ({\n            errors,\n            handleBlur,\n            handleChange,\n            handleSubmit,\n            isSubmitting,\n            touched,\n            values\n          }) => /*#__PURE__*/_jsxDEV(\"form\", {\n            onSubmit: handleSubmit,\n            children: [/*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                mb: 3\n              },\n              children: [/*#__PURE__*/_jsxDEV(Typography, {\n                color: \"textPrimary\",\n                variant: \"h2\",\n                children: \"Sign in\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 88,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Typography, {\n                color: \"textSecondary\",\n                gutterBottom: true,\n                variant: \"body2\",\n                children: \"Sign in on the internal platform\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 87,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              spacing: 3\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                pb: 1,\n                pt: 3\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 138,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TextField, {\n              error: Boolean(touched.email && errors.email),\n              fullWidth: true,\n              helperText: touched.email && errors.email,\n              label: \"Email Address\",\n              margin: \"normal\",\n              name: \"email\",\n              onBlur: handleBlur,\n              onChange: handleChange,\n              type: \"email\",\n              value: values.email,\n              variant: \"outlined\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 152,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(TextField, {\n              error: Boolean(touched.password && errors.password),\n              fullWidth: true,\n              helperText: touched.password && errors.password,\n              label: \"Password\",\n              margin: \"normal\",\n              name: \"password\",\n              onBlur: handleBlur,\n              onChange: handleChange,\n              type: \"password\",\n              value: values.password,\n              variant: \"outlined\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 165,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Box, {\n              sx: {\n                py: 2\n              },\n              children: /*#__PURE__*/_jsxDEV(Button, {\n                color: \"primary\",\n                disabled: isSubmitting,\n                fullWidth: true,\n                size: \"large\",\n                type: \"submit\",\n                variant: \"contained\",\n                children: \"Sign in now\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 179,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 178,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Typography, {\n              color: \"textSecondary\",\n              variant: \"body1\",\n              children: [\"Don't have an account?\", ' ', /*#__PURE__*/_jsxDEV(Link, {\n                component: RouterLink,\n                to: \"/register\",\n                variant: \"h6\",\n                children: \"Sign up\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 196,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 190,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 43,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true);\n};\n\n_s(Login, \"0pNeyzXk/ByIxyERsdaIrG6js9s=\", false, function () {\n  return [useNavigate];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/Users/suneilengland/Desktop/DEVELOPMENT/maj-arcade-admin/src/pages/Login.js"],"names":["Link","RouterLink","useNavigate","Helmet","Yup","axios","Formik","Box","Button","Container","Grid","TextField","Typography","useEffect","FacebookIcon","GoogleIcon","Login","navigate","localStorage","getItem","replace","backgroundColor","display","flexDirection","height","justifyContent","email","password","object","shape","string","max","required","initialValues","loggedUser","post","then","res","result","data","setItem","token","console","log","catch","err","response","error","errors","handleBlur","handleChange","handleSubmit","isSubmitting","touched","values","mb","pb","pt","Boolean","py"],"mappings":"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","sourcesContent":["import { Link as RouterLink, useNavigate } from 'react-router-dom';\nimport { Helmet } from 'react-helmet';\nimport * as Yup from 'yup';\nimport axios from 'axios'\nimport { Formik } from 'formik';\nimport {\n  Box,\n  Button,\n  Container,\n  Grid,\n  Link,\n  TextField,\n  Typography\n} from '@material-ui/core';\nimport { useEffect } from 'react';\nimport FacebookIcon from 'src/icons/Facebook';\nimport GoogleIcon from 'src/icons/Google';\n\nconst Login = () => {\n  const navigate = useNavigate();\n\n\n  useEffect(() => {\n    if(!localStorage.getItem('authToken')){\n      navigate('/login', { replace: true });\n      // console.log('hey')\n    }\n  }, [navigate])\n  return (\n    <>\n      <Helmet>\n        <title>Login | Material Kit</title>\n      </Helmet>\n      <Box\n        sx={{\n          backgroundColor: 'background.default',\n          display: 'flex',\n          flexDirection: 'column',\n          height: '100%',\n          justifyContent: 'center'\n        }}\n      > \n        <Container maxWidth=\"sm\">\n          <Formik\n            initialValues={{\n              email: '',\n              password: ''\n            }}\n            validationSchema={Yup.object().shape({\n              email: Yup.string().email('Must be a valid email').max(255).required('Email is required'),\n              password: Yup.string().max(255).required('Password is required')\n            })}\n            onSubmit={async(initialValues) => {\n              // const createMongoUser = async () => {\n                const loggedUser = {\n                  email: initialValues.email,\n                  password: initialValues.password\n                };\n            \n                await axios\n                  // .post(`https://majestic-express-server.herokuapp.com/api/auth/register`, loggedUser)\n                  .post(`https://majestic-express-server.herokuapp.com/api/auth/adminlogin`, loggedUser)\n                  .then((res) => {\n                    const result = res.data\n                    localStorage.setItem(\"authToken\", result.token)\n                    if(localStorage.getItem('authToken')){\n                      navigate('/app/dashboard', { replace: true });\n                      // console.log('hey')\n                    }\n                    console.log(result)\n                  })\n                  .catch((err) => console.log(err.response.data.error));\n              // };\n              // navigate('/app/dashboard', { replace: true });\n            }}\n          >\n            {({\n              errors,\n              handleBlur,\n              handleChange,\n              handleSubmit,\n              isSubmitting,\n              touched,\n              values\n            }) => (\n              <form onSubmit={handleSubmit}>\n                <Box sx={{ mb: 3 }}>\n                  <Typography\n                    color=\"textPrimary\"\n                    variant=\"h2\"\n                  >\n                    Sign in\n                  </Typography>\n                  <Typography\n                    color=\"textSecondary\"\n                    gutterBottom\n                    variant=\"body2\"\n                  > \n                    Sign in on the internal platform\n                  </Typography>\n                </Box>\n                <Grid\n                  container\n                  spacing={3}\n                >\n                  {/* <Grid\n                    item\n                    xs={12}\n                    md={6}\n                  >\n                    <Button\n                      color=\"primary\"\n                      fullWidth\n                      startIcon={<FacebookIcon />}\n                      onClick={handleSubmit}\n                      size=\"large\"\n                      variant=\"contained\"\n                    >\n                      Login with Facebook\n                    </Button>\n                  </Grid> */}\n                  {/* <Grid\n                    item\n                    xs={12}\n                    md={6}\n                  >\n                    <Button\n                      fullWidth\n                      startIcon={<GoogleIcon />}\n                      onClick={handleSubmit}\n                      size=\"large\"\n                      variant=\"contained\"\n                    >\n                      Login with Google\n                    </Button>\n                  </Grid> */}\n                </Grid>\n                <Box\n                  sx={{\n                    pb: 1,\n                    pt: 3\n                  }}\n                >\n                  {/* <Typography\n                    align=\"center\"\n                    color=\"textSecondary\"\n                    variant=\"body1\"\n                  >\n                    or login with email address\n                  </Typography> */}\n                </Box>\n                <TextField\n                  error={Boolean(touched.email && errors.email)}\n                  fullWidth\n                  helperText={touched.email && errors.email}\n                  label=\"Email Address\"\n                  margin=\"normal\"\n                  name=\"email\"\n                  onBlur={handleBlur}\n                  onChange={handleChange}\n                  type=\"email\"\n                  value={values.email}\n                  variant=\"outlined\"\n                />\n                <TextField\n                  error={Boolean(touched.password && errors.password)}\n                  fullWidth\n                  helperText={touched.password && errors.password}\n                  label=\"Password\"\n                  margin=\"normal\"\n                  name=\"password\"\n                  onBlur={handleBlur}\n                  onChange={handleChange}\n                  type=\"password\"\n                  value={values.password}\n                  variant=\"outlined\"\n                />\n                <Box sx={{ py: 2 }}>\n                  <Button\n                    color=\"primary\"\n                    disabled={isSubmitting}\n                    fullWidth\n                    size=\"large\"\n                    type=\"submit\"\n                    variant=\"contained\"\n                  >\n                    Sign in now\n                  </Button>\n                </Box>\n                <Typography\n                  color=\"textSecondary\"\n                  variant=\"body1\"\n                >\n                  Don&apos;t have an account?\n                  {' '}\n                  <Link\n                    component={RouterLink}\n                    to=\"/register\"\n                    variant=\"h6\"\n                  >\n                    Sign up\n                  </Link>\n                </Typography>\n              </form>\n            )}\n          </Formik>\n        </Container>\n      </Box>\n    </>\n  );\n};\n\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}